<main *ngIf="bucket$ | async as bucket" class="d-flex flex-column h-100 mat-app-background">
  <app-chart-queries
    (titleChanged)="updateTitle($event)"
    (removeSeries)="removeSeries($event)"
    (discriminatorChanged)="updateDiscriminator($event)"
    (addQuery)="openCreateQueryModal()"
    (load)="loadChart(bucket)"
    [query]="query$ | async"></app-chart-queries>
  <div class="chart-container p-4 d-block">
    <app-loadable-content (loadAgain)="loadChart(bucket)" [loadingState]="loadingState$ | async">
      <app-chart *ngIf="(hasChart$ | async) || false" [chart]="chart$ | async"></app-chart>
    </app-loadable-content>
  </div>
</main>
